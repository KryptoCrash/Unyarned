using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ParticleNotes : MonoBehaviour
{
    //Notes for PlayerTrailWalkPrefab and DashParticlePrefab
    /* This script was made so you can copy and paste the code.
     * Put the PlayerTrailWalk and DashParticle as children of the player
     * 
     * Dash Particles
     * In order to use the dash particles, copy the varibles, the getComponents and the two methods below
     * The two methods are self explanatory
     * Make sure you assign the correct particle system gameobject to each varible, or something might go wrong!
     * 
     * Player Trail Particles
     * Guide and code in Update
     * 
     * For Attacking Particles, add them as children of the attack hitbox
     * 
     * For other Particles, you can use the same code for them
    */

    public GameObject dashParentGO;
    public GameObject dashLineGO;
    public GameObject dashSwirlGO;

    private ParticleSystem _dashParent;
    private ParticleSystem _dashLine;
    private ParticleSystem _dashSwirl;

    public GameObject playerTrailGO;

    private ParticleSystem _playerTrail;

    public GameObject attackGO;
    public GameObject attackHitGO;

    private ParticleSystem _attack;
    private ParticleSystem _attackHit;

    void Start()
    {
        _dashParent = dashParentGO.GetComponent<ParticleSystem>();
        _dashLine = dashParentGO.GetComponent<ParticleSystem>();
        _dashSwirl = dashParentGO.GetComponent<ParticleSystem>();

        _playerTrail = playerTrailGO.GetComponent<ParticleSystem>();

        _attack = attackGO.GetComponent<ParticleSystem>();
        _attackHit = attackHitGO.GetComponent<ParticleSystem>();
    }
    // Update is called once per frame
    void Update()
    {
        //Set it to this when the player is on the ground so the playerTrail particles will start appearing
        var em = _playerTrail.emission;
        em.rateOverDistance = 1.5f;
        //Set it here when you don't want the particles to show
        em.rateOverDistance = 1.5f;

        //These commands are to use the attack/attackHit particles. Use these code to activate the particles
        //Attack Particle
        //Used to display the player is attacking
        _attack.Clear();
        _attack.Play();

        //Attack Hit Particle
        //Used to display that the player hit something
        _attackHit.Clear();
        _attackHit.Play();
    }

    public void TurnOffDashPS ()
    {
        //Gets the emission component of PS and turns the rate to a specified number. This one making all of them not do throw out anything
        var em = _dashParent.emission;
        em.rateOverTime = 0;
        var em1 = _dashLine.emission;
        em.rateOverDistance = 0;
        var em2 = _dashSwirl.emission;
        em.rateOverTime = 0;
    }

    public void TurnOnDashPS()
    {
        //Gets the emission component of PS and turns the rate to a specified number. This one making the gameobject start using the particles 
        var em = _dashParent.emission;
        em.rateOverTime = 500;
        var em1 = _dashLine.emission;
        em.rateOverDistance = 5;
        var em2 = _dashSwirl.emission;
        em.rateOverTime = 200;
    }
}








































































































































































































































































































































































































































































































































































































































































































































































































































































































































//Wow! You made it here. Good Luck!